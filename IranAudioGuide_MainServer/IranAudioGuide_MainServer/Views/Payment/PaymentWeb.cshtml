@model IranAudioGuide_MainServer.Models.PackageVM

@{
    Layout = "~/Views/Shared/_PaymentLayout.cshtml";
}


<style type="text/css">
    #page-wrapper {
        /*height: 100vh;*/
        background: none !important;
    }

    .spotlightv {
        margin-top: 25vh;
    }

    #header.alt h1 {
        /*-ms-pointer-events: none;*/
        /* pointer-events: none; */
        opacity: 1 !important;
    }

    #header.alt {
        background: #144482 !important;
        border-bottom: thin solid white;
    }


    body {
        background: #144482;
    }

    #MainSection {
        /* position: absolute; */
        margin-top: 100px;
        height: 400px;
        width: 100%;
    }

    .Main-content {
        float: right;
    }

    .Main-text {
        padding: 3em;
        padding-top: 175px;
    }

    #infocontainer {
        background-color: white;
        border-bottom-left-radius: 30px;
        border-bottom-right-radius: 30px;
        box-shadow: 0px 0px 10px black;
        min-height: 85vh;
        margin-top: 45px;
        margin-bottom: 30px;
    }


    .chkout-img {
        text-align: center;
    }

        .chkout-img img {
            width: 150px;
            margin-bottom: 20px;
        }

    .chkout-text {
        padding: 1em 0em 2em 0em;
        margin: 0 auto;
    }

        .chkout-text h1, .chkout-text p {
            color: #144482 !important;
            text-shadow: 1px 1px 2px #808080 !important;
            line-height: 25px;
        }


    ._1sttd {
        font-size: 14px;
        width: 50%;
        border-right: 1px solid #144482 !important;
        vertical-align: middle;
        font-weight: 600;
    }

        ._1sttd i {
            position: absolute;
            left: 5px;
            top: 5px;
            font-size: large;
        }

        ._1sttd .col-xs-12 {
            padding-left: 25px;
        }

    ._2ndtd {
        width: 50%;
    }

    .table-mybordered > thead > tr > th, .table-mybordered > tbody > tr > th, .table-mybordered > tfoot > tr > th, .table-mybordered > thead > tr > td, .table-mybordered > tbody > tr > td, .table-mybordered > tfoot > tr > td {
        border: 1px solid #b6b6b6;
        /*border-left: none !important;
        border-right: none !important;*/
    }

    table tbody tr {
        background: none !important;
    }

    .desc {
        font-weight: 600;
        font-size: x-small;
        padding: 0 10px !important;
    }

    .purchasebtn {
        width: 120px;
        background-color: #144482;
        color: white;
        font-size: small;
    }

    .zarinpalIcon {
        background: url(/images/icon-128x128.png) no-repeat center right;
        display: block;
        height: 38px;
        width: 38PX;
        background-size: cover;
    }

    .webmoneyIcon {
        background: url(/images/webmoney2.png) no-repeat center right;
        display: block;
        height: 38px;
        width: 38PX;
        background-size: cover;
    }

    .btn-info {
        color: #fff;
        background-color: #144482;
        border-color: #041a35;
    }
</style>
<section id="CheckOutSection">
    <div id="infocontainer" class="col col-sm-push-1 col-sm-pull-1 col-sm-10 col-xs-12">
        <div class="col-xs-12 checkout-content chkout-img">
            <img src="~/images/IAGSITELOGO.png" />
            <h1 style="text-shadow:none; color:#144482;">Purchase Details</h1>
            <h3 style="text-transform:none; color:#21b2a6; text-shadow:none;"><i class="fa fa-user" style="color:#144482; text-shadow:none;"></i><br>@User.Identity.Name</h3>
        </div>

        <div class="col-md-10 col-sm-10 col-md-push-1 col-sm-push-1 col-xs-12 checkout-content chkout-text">

            <table id="ChkTable" class="table-mybordered table-condensed" style="width: auto;  border-radius:10px; margin:0 auto; margin-bottom: 0px !important; border-top:none !important;  color: #144482; text-shadow:none; text-align:center;">

                <tr style="background-color: whitesmoke !important; color: #144482;  font-weight: bold; border-radius:10px; border:none !important; margin-bottom:10px;">
                    <td class="_2ndtd" style="border-radius:10px 10px 0 0; border:none !important; text-transform:capitalize; font-size:medium; box-shadow: inset 0px 1px 3px #444;"><i class="fa fa-briefcase"></i><br>&nbsp;@Model.PackageName</td>
                </tr>

            </table>
            <table class="table-mybordered tbldotted table-condensed" style="width: 100%; border-radius:10px 10px 0 0; margin:0px 0 10px 0;  color: #144482; text-shadow:none; text-align:center; background-color: transparent;">
                <tr>
                    <td class="_1sttd" style="background-color:#144482 !important;  font-size:medium; color:white !important;"><i class="fa fa-map" style="position:relative; left:0;"></i><br />Places@*<br /><div class="col-xs-6" style="display:inline-flex;">Code: <input style="height:30px;" type="text" /></div>*@</td>
                    <td class="_2ndtd" style="background-color:#144482 !important;  font-size:medium; font-weight:600; color: white !important;"><i class="fa fa-file-text"></i><br />Description</td>
                </tr>
                @foreach (var item in Model.PackageCities)
                {

                    <tr>
                        <td class="_1sttd" style="background-color:transparent;"><div class="col-xs-12"><i class="fa fa-map-marker"></i>@item.CityName</div>@*<br /><div class="col-xs-6" style="display:inline-flex;">Code: <input style="height:30px;" type="text" /></div>*@</td>
                        <td class="_2ndtd desc" style="background-color:transparent;">@item.CityDesc</td>
                    </tr>
                }
                <tr style="border-top:15px solid #144482;">
                    @if (ViewBag.IsChooesZarinpal)
                    {
                        <td class="_1sttd" style="background-color:white;"><div class="col-xs-12"><i class="fa fa-money"></i> Price</div></td>
                        <td class="_2ndtd" style="background-color:white;">@string.Format("{0:#,##0.##}", Model.PackagePrice * 10) IRR</td>

                    }
                    else
                    {
                        <td class="_1sttd" style="background-color:white;"><div class="col-xs-12"><i class="fa fa-money"></i> Price</div></td>
                        <td class="_2ndtd" style="background-color:white;">@string.Format("{0:#,##0.##}", Model.PackagePriceDollar) $</td>
                    }
                </tr>
                <tr style="background-color:white;">
                    <td class="_1sttd" style="background-color:white;"><div class="col-xs-12"><i class="fa fa-credit-card-alt"></i>Payment Gateway</div></td>
                    <td class="_2ndtd" style="background-color:white;     font-size: small; font-weight: 600;text-align:center">
                        @if (ViewBag.IsChooesZarinpal)
                        {
                            <img src="~/images/icon-128x128.png" />

                        }
                        else
                        {
                            <img style="width:50%" src="~/images/wmlogo_vector_blue.png" />
                        }


                    </td>
                </tr>
            </table>
            <div class="col-xs-12" style="text-align:right;">
                <a class="btn btn-sm btn-default" style="width:100px; font-size:small;">Cancel</a>
                @if (ViewBag.IsChooesZarinpal)
                {
                    @Html.ActionLink("Purchase", "Purchase", new { packageId = Model.PackageId, bankName = "zarinpal", isFromWeb = true }, new { @class = "btn btn-info" })
                }
                else
                {
                    @Html.ActionLink("Purchase", "WMPurchase", new { packageId = Model.PackageId }, new { @class = "btn btn-info" })

                }



            </div>
        </div>

        <div class="col-xs-12" style="text-align:center;">
            @if (ViewBag.IsChooesZarinpal)
            {
                <script src="https://www.zarinpal.com/webservice/TrustCode" type="text/javascript"></script>
                <p style="color:black; text-shadow:none; font-size:10px;">You can check your payment trustfulness by click on ZarinPal Logo above</p>

            }
            else
            {
                <ul class="icons">
                    <li>
                        <!-- begin WebMoney Transfer : attestation label -->
                        <a href="https://passport.webmoney.ru/asp/certview.asp?wmid=059551878952" target=_blank>
                            <IMG SRC="~/images/v_blue_on_transp_en.png" title="Here is your WM passport 059551878952" border="0"><br>
                            <font size=1>Check passport</font>
                        </a>
                        <!-- end WebMoney Transfer : attestation label -->
                    </li>
                    <li>
                        <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#howto">How to pay with webmoney</button>
                    </li>
                    <li>
                        <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#procedure">Payment procedure</button>
                    </li>
                    <li>
                        <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#Terms">Terms & Conditions</button>
                    </li>
                </ul>


            }

        </div>
    </div>
</section>
<!-- Modal -->
<div id="howto" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">How to pay with webmoney</h4>
            </div>
            <div class="modal-body">
                <p>
                    Click the bottom "Purchase", the page will go to the Webmoney transfer.<br />
                    You will see several methods of payment with web money. If you are a Webmoney user you can use the Webmoney keeper.<br />
                    If you’re not familiar with Webmoney services, choose the Quick payment. For the payment to proceed you will you need to receive a sms. So be sure your sim card is active and you can receive the text messages.
                </p>
                <a href="https://www.wmtransfer.com/eng/information/short/index.shtml">About Webmoney</a>
                <br />
                <h5>Account details</h5>
                <dl>
                    <dt>WebMoney ID</dt>
                    <dd> 059551878952</dd>
                    <dt>Merchant</dt>
                    <dd>Iran Audio Guide</dd>
                </dl>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal -->
<div id="procedure" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Payment procedure</h4>
            </div>
            <div class="modal-body">
                <p>
                    In order to purchase a package, you either need an Iranian cash card or you have to use the webmoney transfer system which provides various payment methods.
                </p>
                <p>
                    The procedure will only take a few minutes. The system will guide you through the steps. As soon the process has finished, the packages will be activated for you automatically. In case the procedures fail contact us.
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal -->
<div id="Terms" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Terms & Conditions</h4>
            </div>
            <div class="modal-body">
                <p>
                    Once you have purchased a packaged the price is not refundable.
                    <br />
                    Iranaudioguide is not responsible for failure of the transaction. Contact your bank to follow up on failed transactions.
                    <br />
                    Users agree to the price of each package and by purchasing a package, users terminate their right of any future complaint toward the price and content of the packages.
                    <br />
                    Iranaudioguide preserve the right to restrict any user’s access, in case of doubt of identity, and users agree to reply to iranaudioguide contacts to clear the issue. In case the users do not comply, Iranaudioguide has the right to deny the users access.
                    <br />
                    If it is proven to Iranaudioguide that a user is misusing the software in anyway, Iranaudioguide preserves to right to disable any access the user had and restrain any future access.
                    <br />
                    Iranaudioguide is not a purely scientific source. The content is based on scientific facts but entertainment aspects are also considered.
                    <br />
                    All rights of this application are strictly reserved to the brand owner. Any illegal use, will follow with legal prosecution.
                    <br />
                    Users agree to allow iranaudioguide use the personal data they have provided to Iranaduioguide, for the improvement of the application.
                    <br />
                    Each user can only change their active device once they change their personal device. In case it is proven to Iranaudioguide that users have changed the active device, to allow other individual access their packages, Iranaudioguide can restrict their access.
                    <br />
                    Offered services provided here are not at the order of an individual or enterprise operating any of the Transaction banks, active on Iranaudioguide. This means the banks is not connected in any way with the sales conducted in Iranaudioguide.

                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>