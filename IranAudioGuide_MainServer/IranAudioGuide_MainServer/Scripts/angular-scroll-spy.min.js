!function(o){"use strict";var e=o.module("scrollSpyModule",[]);e.directive("scrollSpy",["$window","$rootScope","$log",function(e,n,t){return{restrict:"A",link:function(t,l,i){function r(){var o,t,l,r=this,c=!1,s=!1,a=!1,u=!1,d=document.documentElement,f=i.id||"unknown element",m=document.getElementById(f),g=!1,S=1;this.determinePosition=function(){if(c){var e=window.pageYOffset||d.scrollTop;u||(l>e+o||e>l+t)&&(u=!0,a=!1,n.$broadcast("elementScrolledOutOfView",f)),(e+o>=l+S*t&&l>e||e>=l&&g)&&(s||(s=!0,n.$broadcast("elementFirstScrolledIntoView",f)),a||(a=!0,u=!1,n.$broadcast("elementScrolledIntoView",f)))}},this.takeMeasurements=function(){o=e.innerHeight,t=m.offsetHeight,l=m.offsetTop,t>o&&(g=!0),c=!0,r.determinePosition()};var b=setInterval(function(){m.offsetHeight>2&&(clearTimeout(b),r.takeMeasurements())},50)}var c=i.id+"-scrollSpy";n[c]=new r,n.globalOnScrollFunctions||(n.globalOnScrollFunctions=[]),n.globalOnScrollFunctions.push(n[c]),n.globalOnScroll||(n.globalOnScroll=function(){o.forEach(n.globalOnScrollFunctions,function(o,e){o.determinePosition()})},e.onscroll=n.globalOnScroll)}}}])}(angular);